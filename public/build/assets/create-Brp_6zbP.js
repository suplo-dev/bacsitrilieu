import{_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-fDM6iIWH.js";import{d as z,L as A,C as E,h as I,c as L,a as u,o as m,e as o,u as e,m as B,w as r,b as a,g as n,q as p,t as c,F as P,W as S}from"./app-ubqNRXVy.js";import{_ as d}from"./Label.vue_vue_type_script_setup_true_lang-BAEJopoH.js";import{_ as x,T as $}from"./Button.vue_vue_type_script_setup_true_lang-B6PjjEdv.js";import{C as R}from"./Combobox-DoITjVUv.js";import{E as W}from"./Editor-C9K6cYpM.js";import{I as f}from"./Input-CXQS_86x.js";import{N as j}from"./notebook-pen-BGJ5mK7N.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-DJ0TqN6w.js";import"./useForwardExpose-W3xSAKaJ.js";import"./Collection-gNtiGtMu.js";import"./DismissableLayer-42Gq_lwt.js";import"./RovingFocusGroup-CSBuTvak.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DLw97z7y.js";import"./chevron-down-BtM2z85d.js";import"./Input.vue_vue_type_style_index_0_scoped_2b5882b8_lang-DecbrO13.js";const G={class:"flex flex-1 flex-col gap-4 rounded-xl p-4"},H={class:"grid gap-4 md:grid-cols-6"},M={class:"col-span-5"},Q={key:0,class:"text-sm mt-2 text-red-500"},J={class:"col-span-5 relative"},K={class:"relative w-64 mt-2"},O=["src"],X={class:"col-span-5"},Y={key:0,class:"text-sm mt-2 text-red-500"},Z={class:"col-span-5"},ee={key:0,class:"text-sm mt-2 text-red-500"},te={class:"col-span-5"},se={key:0,class:"text-sm mt-2 text-red-500"},oe={class:"col-span-5"},le={class:"col-start-5 col-span-2 space-x-2 ms-auto"},ae=z({__name:"create",props:{categories:Array,users:Array},setup(h){const y=[{title:"Trang chủ",href:route("dashboard")},{title:"Quản lý bài viết",href:route("admin.posts.index")},{title:"Thêm bài viết",href:route("admin.posts.create")}],w=A().props.ziggy.url+"/storage/thumbnails/default.jpg",s=E({category_id:null,thumbnail:null,title:"",slug:"",body:"",fake_view:0}),g=I(null),V=L(()=>g.value||w),k=i=>{var _;const l=((_=i.target.files)==null?void 0:_[0])??null;if(s.thumbnail=l,l){const v=new FileReader;v.onload=U=>{var b;g.value=(b=U.target)==null?void 0:b.result},v.readAsDataURL(l)}},C=i=>i.normalize("NFD").replace(/\u0300-\u036f/g,"").toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),T=i=>{s.slug=C(i.target.value)},N=()=>{s.post(route("admin.posts.store"),{preserveScroll:!0,forceFormData:!0})},F=()=>{S.get(route("admin.posts.index"))};return(i,t)=>(m(),u(P,null,[o(e(B),{title:"Thêm bài viết"}),o(D,{breadcrumbs:y},{default:r(()=>[a("div",G,[t[13]||(t[13]=a("h3",{class:"text-2xl"},"Thêm bài viết",-1)),a("div",H,[o(e(d),{class:"content-center"},{default:r(()=>t[5]||(t[5]=[n("Danh mục")])),_:1}),a("div",M,[o(e(R),{modelValue:e(s).category_id,"onUpdate:modelValue":t[0]||(t[0]=l=>e(s).category_id=l),options:h.categories,placeholder:"-- Chọn danh mục --"},null,8,["modelValue","options"]),e(s).errors.category_id?(m(),u("p",Q,c(e(s).errors.category_id),1)):p("",!0)]),o(e(d),{class:"content-center"},{default:r(()=>t[6]||(t[6]=[n("Ảnh bìa")])),_:1}),a("div",J,[a("input",{type:"file",name:"thumbnail",accept:"image/*",onChange:k},null,32),a("div",K,[a("img",{src:V.value,alt:"Thumbnail preview",class:"rounded-md shadow w-full h-auto"},null,8,O)])]),o(e(d),{class:"content-center"},{default:r(()=>t[7]||(t[7]=[n("Tiêu đề")])),_:1}),a("div",X,[o(e(f),{modelValue:e(s).title,"onUpdate:modelValue":t[1]||(t[1]=l=>e(s).title=l),type:"text",placeholder:"Nhập tiêu đề bài viết",onInput:T},null,8,["modelValue"]),e(s).errors.title?(m(),u("p",Y,c(e(s).errors.title),1)):p("",!0)]),o(e(d),{class:"content-center"},{default:r(()=>t[8]||(t[8]=[n("Slug")])),_:1}),a("div",Z,[o(e(f),{modelValue:e(s).slug,"onUpdate:modelValue":t[2]||(t[2]=l=>e(s).slug=l),type:"text",placeholder:"Nhập slug"},null,8,["modelValue"]),e(s).errors.slug?(m(),u("p",ee,c(e(s).errors.slug),1)):p("",!0)]),o(e(d),{class:"content-center"},{default:r(()=>t[9]||(t[9]=[n("Fake view")])),_:1}),a("div",te,[o(e(f),{modelValue:e(s).fake_view,"onUpdate:modelValue":t[3]||(t[3]=l=>e(s).fake_view=l),type:"text",placeholder:"Nhập fake view"},null,8,["modelValue"]),e(s).errors.fake_view?(m(),u("p",se,c(e(s).errors.fake_view),1)):p("",!0)]),o(e(d),{class:"content-center"},{default:r(()=>t[10]||(t[10]=[n("Nội dung")])),_:1}),a("div",oe,[o(e(W),{modelValue:e(s).body,"onUpdate:modelValue":t[4]||(t[4]=l=>e(s).body=l)},null,8,["modelValue"])]),a("div",le,[o(e(x),{onClick:N,disabled:e(s).processing},{default:r(()=>[o(e(j),{class:"size-4 text-white"}),t[11]||(t[11]=n(" Đăng bài "))]),_:1},8,["disabled"]),o(e(x),{variant:"destructive",onClick:F},{default:r(()=>[o(e($),{class:"size-4 text-white"}),t[12]||(t[12]=n(" Huỷ bỏ "))]),_:1})])])])]),_:1})],64))}}),Ve=q(ae,[["__scopeId","data-v-e13e61e9"]]);export{Ve as default};
